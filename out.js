(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var Bezier = require("./bezier.js");
var Point = require("./point");

window.startSlideshow = function () {
	var slideshow = remark.create({
		ratio: "16:9"
	});

	slideshow.on("showSlide", function (slide) {
		var index = slide.getSlideIndex();
		var canvas = document.querySelector("#c" + index);
		if (index == 1) slideOne(canvas, slide);

		if (index == 2) slideTwo(canvas, slide);

		if (index == 3) slideThree(canvas, slide);

		if (index == 4) slideFour(canvas, slide);

		if (index == 5) slideFive(canvas, slide);

		if (index == 6) slideSix(canvas, slide);

		if (index == 7) slideSeven(canvas, slide);
	});
	slideshow.on("hideSlide", function (slide) {
		if (slide.bezier) {
			slide.bezier.invalidate();
			delete slide.bezier;
		}
	});

	function slideOne(canvas, slide) {
		var points = [Point(100, 250), Point(250, 100), Point(250, 400), Point(400, 250)];
		slide.bezier = new Bezier(canvas);
		slide.bezier.draw(points);
	}

	function slideTwo(canvas, slide) {
		var points = [Point(100, 250), Point(400, 250)];
		slide.bezier = new Bezier(canvas);
		slide.bezier.draw(points);
	}

	function slideThree(canvas, slide) {
		var points = [Point(100, 250), Point(250, 100), Point(400, 250)];
		slide.bezier = new Bezier(canvas);
		slide.bezier.draw(points);
	}

	function slideFour(canvas, slide) {
		var points = [Point(100, 250), Point(250, 100), Point(250, 400), Point(400, 250)];
		slide.bezier = new Bezier(canvas);
		slide.bezier.draw(points);
	}

	function slideFive(canvas, slide) {
		var points = [Point(50, 250), Point(150, 150), Point(250, 150), Point(350, 150), Point(450, 250)];
		slide.bezier = new Bezier(canvas, false);
		slide.bezier.draw(points);
	}

	function slideSix(canvas, slide) {
		var points = [Point(100, 400), Point(100, 100), Point(400, 400), Point(400, 100)];
		slide.bezier = new Bezier(canvas, false);
		slide.bezier.draw(points);
		slide.bezier.update(document.querySelector("#cubic-bezier-x1-y1-x2-y2-"));
	}

	function slideSeven(canvas, slide) {
		var points = [Point(50, 250), Point(150, 150), Point(250, 150), Point(350, 150), Point(450, 250)];
		slide.bezier = new Bezier(canvas, false);
		slide.bezier.draw(points);
		slide.bezier.showImage = true;
	}
};

},{"./bezier.js":2,"./point":4}],2:[function(require,module,exports){
"use strict";

var Point = require("./point");
var factorial = require("./math").factorial;

function B(i, n, t) {
	return factorial(n) / (factorial(i) * factorial(n - i)) * Math.pow(t, i) * Math.pow(1 - t, n - i);
}

function ComputeP(t, points) {
	var r = Point(0, 0);
	var n = points.length - 1;
	for (var i = 0; i <= n; i++) {
		r.x += points[i].x * B(i, n, t);
		r.y += points[i].y * B(i, n, t);
	}

	return r;
}

function computeSupportPoints(points) {

	var tLength = 0;
	for (var i = 0; i < points.length - 1; i++) {
		tLength += points[i].distance(points[i + 1]);
	}
	var step = 5 / tLength;

	var temp = [];
	for (var t = 0; t <= 1; t = t + step) {
		temp.push(ComputeP(t, points));
	}

	return temp;
}

function paintCurve(ctx, points) {
	ctx.save();
	ctx.beginPath();
	ctx.moveTo(points[0].x, points[0].y);
	points.slice(1).forEach(function (point) {
		ctx.lineTo(point.x, point.y);
	});
	// for (var i = 1; i < points.length; i++) {
	// 	ctx.lineTo(points[i].x, points[i].y);
	// }

	ctx.stroke();
	ctx.restore();
}

function Bezier(canvas, showOnlyOddLines) {
	if (typeof showOnlyOddLines === "undefined") showOnlyOddLines = true;

	this.canvas = canvas;
	this.ctx = canvas.getContext("2d");
	this.showPoints = true;
	this.showLines = true;
	this.showOnlyOddLines = showOnlyOddLines;
	this.showCurve = true;
	this.showImage = false;
	this.showHelpLines = false;
	this.img = new Image();
	this.img.src = "fish.png";
}

Bezier.prototype.draw = function (points) {
	console.log("Starting visualization for points [" + points.toString() + "]");

	this.points = points;
	this.mousedown = mousedown(this);
	this.keydown = keydown(this);

	window.addEventListener("mousedown", this.mousedown, false);
	window.addEventListener("keydown", this.keydown, false);
	var bez = this;

	var animDuration = 3000;
	var last = new Date();
	function _draw() {
		bez.timeout = setTimeout(function () {
			var now = new Date();
			bez.drawScene.apply(bez, [(now - last) % animDuration / animDuration]);
			requestAnimationFrame(_draw);
		}, 1000 / 60);
	}

	_draw();
};

Bezier.prototype.invalidate = function () {
	console.log("Stopping vizualization for points [" + this.points.toString() + "]");
	clearTimeout(this.timeout);
	window.removeEventListener("mousedown", this.mousedown);
	window.removeEventListener("keydown", this.keydown);
};

Bezier.prototype.drawScene = function (t) {
	this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
	this.ctx.lineWidth = 5;
	this.ctx.strokeStyle = "#5F505B";
	if (this.showLines) this.drawLines();

	this.drawCurve(this.ctx, t, this.points);

	if (this.showLines) this.drawPoints();

	if (this.showHelpLines) this.drawHelpLines(t);
};

Bezier.prototype.drawCurve = function (ctx, t) {
	var points = [];
	if (arguments.length === 3) {
		points = arguments[2];
	} else {
		for (i = 2; i < arguments.length; i++) points.push(arguments[i]);
	}

	var supportPoints = computeSupportPoints(points);
	if (this.showCurve) paintCurve(ctx, supportPoints);

	if (this.showImage) {
		var p = supportPoints[Math.floor(t * supportPoints.length)];
		this.drawImage(p);
	}
};

Bezier.prototype.drawHelpLines = function (t) {
	var ctx = this.ctx;
	ctx.save();
	var helpPoints = [];

	var tmp = this.points;

	ctx.strokeStyle = "#777";
	ctx.strokeWidth = 1;
	while (tmp.length > 1) {
		var curtmp = [];
		for (var i = 0; i < tmp.length - 1; i++) {
			var p1 = tmp[i];
			var p2 = tmp[i + 1];
			var x = p1.x + (p2.x - p1.x) * t;
			var y = p1.y + (p2.y - p1.y) * t;
			curtmp.push(Point(x, y));
		}

		ctx.beginPath();
		for (var q = 0; q < curtmp.length - 1; q++) {
			p1 = curtmp[q];
			p2 = curtmp[q + 1];
			ctx.moveTo(p1.x, p1.y);
			ctx.lineTo(p2.x, p2.y);
		}
		ctx.stroke();

		tmp = curtmp.slice(0); //helpPoints.slice(0);
		helpPoints = helpPoints.concat(curtmp.slice(0));
	}

	ctx.fillStyle = "#398999";
	ctx.beginPath();
	for (var j = 0; j < helpPoints.length; j++) {
		var p = helpPoints[j];
		ctx.moveTo(p.x, p.y);
		ctx.arc(p.x, p.y, 7, 0, 2 * Math.PI, false);
	}
	ctx.fill();
	ctx.restore();
};

Bezier.prototype.drawPoints = function () {
	var ctx = this.ctx;
	ctx.save();
	ctx.fillStyle = "#398999";
	ctx.beginPath();

	this.points.forEach(function (point) {
		ctx.moveTo(point.x, point.y);
		ctx.arc(point.x, point.y, 7, 0, 2 * Math.PI, false);
	});

	ctx.fill();
	ctx.restore();
};

Bezier.prototype.drawLines = function () {
	var ctx = this.ctx;
	ctx.save();

	ctx.strokeStyle = "#777";
	ctx.lineWidth = 1.5;
	ctx.beginPath();
	ctx.moveTo(this.points[0].x, this.points[0].y);
	for (var i = 1; i < this.points.length; i++) {
		if (i % 2 === 0 && this.showOnlyOddLines) ctx.moveTo(this.points[i].x, this.points[i].y);else ctx.lineTo(this.points[i].x, this.points[i].y);
	}
	ctx.stroke();
	ctx.restore();
};

Bezier.prototype.drawImage = function (p) {
	var ctx = this.ctx;
	ctx.save();

	ctx.drawImage(this.img, p.x - this.img.width / 2, p.y - this.img.height / 2);

	ctx.restore();
};

Bezier.prototype.update = function (node) {
	this.updateNode = node;

	var x1 = transform(this.points[1].x);
	var y1 = transform(this.points[1].y, true);
	var x2 = transform(this.points[2].x);
	var y2 = transform(this.points[2].y, true);
	this.updateNode.innerText = "cubic-bezier(" + x1 + ", " + y1 + ", " + x2 + ", " + y2 + ")";
};

function keydown(bez) {
	return function (ev) {
		console.log(ev.keyCode);
		if (ev.keyCode == 83) bez.invalidate();

		if (ev.keyCode == 186) bez.showLines = !bez.showLines;

		if (ev.keyCode == 222) bez.showOnlyOddLines = !bez.showOnlyOddLines;

		if (ev.keyCode == 220) bez.showCurve = !bez.showCurve;

		if (ev.keyCode == 76) bez.showHelpLines = !bez.showHelpLines;
	};
};

function mousedown(bez) {
	var canvas = bez.canvas;
	var points = bez.points;
	return function (ev) {
		var node = document.querySelector(".remark-visible .remark-slide-scaler");
		var curTransform = new WebKitCSSMatrix(window.getComputedStyle(node).webkitTransform);
		var boundingRect = canvas.getBoundingClientRect();
		var x = (ev.clientX - boundingRect.left) / curTransform.m11;
		var y = (ev.clientY - boundingRect.top) / curTransform.m11;
		var p;
		for (var i = 0; i < points.length; i++) {
			if (points[i].hit(x, y)) {
				p = points[i];
				break;
			}
		}

		if (typeof p === "undefined") return;

		function mousemove(mm) {
			var node = document.querySelector(".remark-visible .remark-slide-scaler");
			var curTransform = new WebKitCSSMatrix(window.getComputedStyle(node).webkitTransform);
			var boundingRect = canvas.getBoundingClientRect();
			var x = (mm.clientX - boundingRect.left) / curTransform.m11;
			var y = (mm.clientY - boundingRect.top) / curTransform.m11;

			p.x = x;
			p.y = y;

			if (!bez.updateNode) {
				return;
			}var x1 = transform(points[1].x);
			var y1 = transform(points[1].y, true);
			var x2 = transform(points[2].x);
			var y2 = transform(points[2].y, true);
			bez.updateNode.innerText = "cubic-bezier(" + x1 + ", " + y1 + ", " + x2 + ", " + y2 + ")";
		}

		function mouseup(mousemove, mouseup) {
			return function (mu) {
				console.log("mouseup");
				canvas.removeEventListener("mousemove", mousemove);
				setTimeout(0, function () {
					canvas.removeEventListener("mouseup", mouseup);
				});
			};
		}

		canvas.addEventListener("mousemove", mousemove, false);
		canvas.addEventListener("mouseup", mouseup(mousemove, mouseup), false);
	};
}

function transform(p, isY) {
	var ret = -1;
	if (isY) ret = (1 - (p - 100) / 300).toFixed(2);else ret = ((p - 100) / 300).toFixed(2);

	return ret;
}

module.exports = Bezier;

},{"./math":3,"./point":4}],3:[function(require,module,exports){
"use strict";

function factorial(n) {
	if (n == 0 || n == 1) {
		return 1;
	}return n * factorial(n - 1);
}

module.exports = {
	factorial: factorial
};

},{}],4:[function(require,module,exports){
"use strict";

function P(x, y, radius) {
	if (typeof radius === "undefined") radius = 5;

	return new Point(x, y, radius);
}

function Point(x, y, radius) {
	this.x = x;
	this.y = y;
	this.radius = radius;
}

Point.prototype.hit = function (x, y) {
	var r = this.radius + 2;
	var hit = Math.pow(x - this.x, 2) + Math.pow(y - this.y, 2) < r * r;
	return hit;
};

Point.prototype.toString = function () {
	return "[" + this.x + ", " + this.y + "]";
};

Point.prototype.distance = function (point) {
	return Math.sqrt(Math.pow(this.x - point.x, 2) + Math.pow(this.y - point.y, 2));
};

module.exports = P;

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy93YXRjaGlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiL1VzZXJzL2JlbmRpa3NvbGhlaW0vZGV2L2Jla2svdGFsa3MvYmV6aWVyLWN1cnZlcy9qcy9hcHAuanMiLCIvVXNlcnMvYmVuZGlrc29saGVpbS9kZXYvYmVray90YWxrcy9iZXppZXItY3VydmVzL2pzL2Jlemllci5qcyIsIi9Vc2Vycy9iZW5kaWtzb2xoZWltL2Rldi9iZWtrL3RhbGtzL2Jlemllci1jdXJ2ZXMvanMvbWF0aC5qcyIsIi9Vc2Vycy9iZW5kaWtzb2xoZWltL2Rldi9iZWtrL3RhbGtzL2Jlemllci1jdXJ2ZXMvanMvcG9pbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQTtBQUNuQyxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7O0FBRS9CLE1BQU0sQ0FBQyxjQUFjLEdBQUcsWUFBVztBQUNsQyxLQUFJLFNBQVMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQzdCLE9BQUssRUFBRSxNQUFNO0VBQ2IsQ0FBQyxDQUFDOztBQUVILFVBQVMsQ0FBQyxFQUFFLENBQUMsV0FBVyxFQUFFLFVBQVMsS0FBSyxFQUFFO0FBQ3pDLE1BQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQztBQUNsQyxNQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQztBQUNsRCxNQUFJLEtBQUssSUFBSSxDQUFDLEVBQ2IsUUFBUSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQzs7QUFFekIsTUFBSSxLQUFLLElBQUksQ0FBQyxFQUNiLFFBQVEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7O0FBRXpCLE1BQUksS0FBSyxJQUFJLENBQUMsRUFDYixVQUFVLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDOztBQUUzQixNQUFJLEtBQUssSUFBSSxDQUFDLEVBQ2IsU0FBUyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQzs7QUFFMUIsTUFBSSxLQUFLLElBQUksQ0FBQyxFQUNiLFNBQVMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7O0FBRTFCLE1BQUksS0FBSyxJQUFJLENBQUMsRUFDYixRQUFRLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDOztBQUV6QixNQUFJLEtBQUssSUFBSSxDQUFDLEVBQ2IsVUFBVSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztFQUMzQixDQUFDLENBQUM7QUFDSCxVQUFTLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxVQUFTLEtBQUssRUFBRTtBQUN6QyxNQUFJLEtBQUssQ0FBQyxNQUFNLEVBQUU7QUFDakIsUUFBSyxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQztBQUMxQixVQUFPLEtBQUssQ0FBQyxNQUFNLENBQUM7R0FDcEI7RUFDRCxDQUFDLENBQUM7O0FBRUgsVUFBUyxRQUFRLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRTtBQUNoQyxNQUFJLE1BQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNsRixPQUFLLENBQUMsTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ2xDLE9BQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0VBQzFCOztBQUVELFVBQVMsUUFBUSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUU7QUFDaEMsTUFBSSxNQUFNLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNoRCxPQUFLLENBQUMsTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ2xDLE9BQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0VBQzFCOztBQUVELFVBQVMsVUFBVSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUU7QUFDbEMsTUFBSSxNQUFNLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ2pFLE9BQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDbEMsT0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7RUFDMUI7O0FBRUQsVUFBUyxTQUFTLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRTtBQUNqQyxNQUFJLE1BQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNsRixPQUFLLENBQUMsTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ2xDLE9BQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0VBQzFCOztBQUVELFVBQVMsU0FBUyxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUU7QUFDakMsTUFBSSxNQUFNLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNsRyxPQUFLLENBQUMsTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN6QyxPQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztFQUMxQjs7QUFFRCxVQUFTLFFBQVEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFO0FBQ2hDLE1BQUksTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ2xGLE9BQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3pDLE9BQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzFCLE9BQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsNEJBQTRCLENBQUMsQ0FBQyxDQUFDO0VBQzFFOztBQUVELFVBQVMsVUFBVSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUU7QUFDbEMsTUFBSSxNQUFNLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNsRyxPQUFLLENBQUMsTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN6QyxPQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMxQixPQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7RUFDOUI7Q0FDRCxDQUFBOzs7OztBQ2xGRCxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDL0IsSUFBSSxTQUFTLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFNBQVMsQ0FBQzs7QUFFNUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDbkIsUUFBTyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUEsQUFBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDbEc7O0FBRUQsU0FBUyxRQUFRLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRTtBQUM1QixLQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3BCLEtBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBQzFCLE1BQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDNUIsR0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUs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LElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBQ3hCLEtBQUksR0FBRyxHQUFHLEFBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFLLENBQUMsR0FBRyxDQUFDLEFBQUMsQ0FBQztBQUN4RSxRQUFPLEdBQUcsQ0FBQztDQUNYLENBQUM7O0FBRUYsS0FBSyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsWUFBVztBQUNyQyxRQUFPLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztDQUMxQyxDQUFDOztBQUVGLEtBQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFVBQVMsS0FBSyxFQUFFO0FBQzFDLFFBQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ2hGLENBQUM7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIEJlemllciA9IHJlcXVpcmUoJy4vYmV6aWVyLmpzJylcbnZhciBQb2ludCA9IHJlcXVpcmUoJy4vcG9pbnQnKTtcblxud2luZG93LnN0YXJ0U2xpZGVzaG93ID0gZnVuY3Rpb24oKSB7XG5cdHZhciBzbGlkZXNob3cgPSByZW1hcmsuY3JlYXRlKHtcblx0XHRyYXRpbzogXCIxNjo5XCJcblx0fSk7XG5cblx0c2xpZGVzaG93Lm9uKCdzaG93U2xpZGUnLCBmdW5jdGlvbihzbGlkZSkge1xuXHRcdHZhciBpbmRleCA9IHNsaWRlLmdldFNsaWRlSW5kZXgoKTtcblx0XHR2YXIgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjXCIgKyBpbmRleCk7XG5cdFx0aWYgKGluZGV4ID09IDEpXG5cdFx0XHRzbGlkZU9uZShjYW52YXMsIHNsaWRlKTtcblxuXHRcdGlmIChpbmRleCA9PSAyKVxuXHRcdFx0c2xpZGVUd28oY2FudmFzLCBzbGlkZSk7XG5cblx0XHRpZiAoaW5kZXggPT0gMylcblx0XHRcdHNsaWRlVGhyZWUoY2FudmFzLCBzbGlkZSk7XG5cblx0XHRpZiAoaW5kZXggPT0gNClcblx0XHRcdHNsaWRlRm91cihjYW52YXMsIHNsaWRlKTtcblxuXHRcdGlmIChpbmRleCA9PSA1KVxuXHRcdFx0c2xpZGVGaXZlKGNhbnZhcywgc2xpZGUpO1xuXG5cdFx0aWYgKGluZGV4ID09IDYpXG5cdFx0XHRzbGlkZVNpeChjYW52YXMsIHNsaWRlKTtcblxuXHRcdGlmIChpbmRleCA9PSA3KVxuXHRcdFx0c2xpZGVTZXZlbihjYW52YXMsIHNsaWRlKTtcblx0fSk7XG5cdHNsaWRlc2hvdy5vbignaGlkZVNsaWRlJywgZnVuY3Rpb24oc2xpZGUpIHtcblx0XHRpZiAoc2xpZGUuYmV6aWVyKSB7XG5cdFx0XHRzbGlkZS5iZXppZXIuaW52YWxpZGF0ZSgpO1xuXHRcdFx0ZGVsZXRlIHNsaWRlLmJlemllcjtcblx0XHR9XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIHNsaWRlT25lKGNhbnZhcywgc2xpZGUpIHtcblx0XHR2YXIgcG9pbnRzID0gW1BvaW50KDEwMCwgMjUwKSwgUG9pbnQoMjUwLCAxMDApLCBQb2ludCgyNTAsIDQwMCksIFBvaW50KDQwMCwgMjUwKV07XG5cdFx0c2xpZGUuYmV6aWVyID0gbmV3IEJlemllcihjYW52YXMpO1xuXHRcdHNsaWRlLmJlemllci5kcmF3KHBvaW50cyk7XG5cdH1cblxuXHRmdW5jdGlvbiBzbGlkZVR3byhjYW52YXMsIHNsaWRlKSB7XG5cdFx0dmFyIHBvaW50cyA9IFtQb2ludCgxMDAsIDI1MCksIFBvaW50KDQwMCwgMjUwKV07XG5cdFx0c2xpZGUuYmV6aWVyID0gbmV3IEJlemllcihjYW52YXMpO1xuXHRcdHNsaWRlLmJlemllci5kcmF3KHBvaW50cyk7XG5cdH1cblxuXHRmdW5jdGlvbiBzbGlkZVRocmVlKGNhbnZhcywgc2xpZGUpIHtcblx0XHR2YXIgcG9pbnRzID0gW1BvaW50KDEwMCwgMjUwKSwgUG9pbnQoMjUwLCAxMDApLCBQb2ludCg0MDAsIDI1MCldO1xuXHRcdHNsaWRlLmJlemllciA9IG5ldyBCZXppZXIoY2FudmFzKTtcblx0XHRzbGlkZS5iZXppZXIuZHJhdyhwb2ludHMpO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2xpZGVGb3VyKGNhbnZhcywgc2xpZGUpIHtcblx0XHR2YXIgcG9pbnRzID0gW1BvaW50KDEwMCwgMjUwKSwgUG9pbnQoMjUwLCAxMDApLCBQb2ludCgyNTAsIDQwMCksIFBvaW50KDQwMCwgMjUwKV07XG5cdFx0c2xpZGUuYmV6aWVyID0gbmV3IEJlemllcihjYW52YXMpO1xuXHRcdHNsaWRlLmJlemllci5kcmF3KHBvaW50cyk7XG5cdH1cblxuXHRmdW5jdGlvbiBzbGlkZUZpdmUoY2FudmFzLCBzbGlkZSkge1xuXHRcdHZhciBwb2ludHMgPSBbUG9pbnQoNTAsIDI1MCksIFBvaW50KDE1MCwgMTUwKSwgUG9pbnQoMjUwLCAxNTApLCBQb2ludCgzNTAsIDE1MCksIFBvaW50KDQ1MCwgMjUwKV07XG5cdFx0c2xpZGUuYmV6aWVyID0gbmV3IEJlemllcihjYW52YXMsIGZhbHNlKTtcblx0XHRzbGlkZS5iZXppZXIuZHJhdyhwb2ludHMpO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2xpZGVTaXgoY2FudmFzLCBzbGlkZSkge1xuXHRcdHZhciBwb2ludHMgPSBbUG9pbnQoMTAwLCA0MDApLCBQb2ludCgxMDAsIDEwMCksIFBvaW50KDQwMCwgNDAwKSwgUG9pbnQoNDAwLCAxMDApXTtcblx0XHRzbGlkZS5iZXppZXIgPSBuZXcgQmV6aWVyKGNhbnZhcywgZmFsc2UpO1xuXHRcdHNsaWRlLmJlemllci5kcmF3KHBvaW50cyk7XG5cdFx0c2xpZGUuYmV6aWVyLnVwZGF0ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3ViaWMtYmV6aWVyLXgxLXkxLXgyLXkyLScpKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNsaWRlU2V2ZW4oY2FudmFzLCBzbGlkZSkge1xuXHRcdHZhciBwb2ludHMgPSBbUG9pbnQoNTAsIDI1MCksIFBvaW50KDE1MCwgMTUwKSwgUG9pbnQoMjUwLCAxNTApLCBQb2ludCgzNTAsIDE1MCksIFBvaW50KDQ1MCwgMjUwKV07XG5cdFx0c2xpZGUuYmV6aWVyID0gbmV3IEJlemllcihjYW52YXMsIGZhbHNlKTtcblx0XHRzbGlkZS5iZXppZXIuZHJhdyhwb2ludHMpO1xuXHRcdHNsaWRlLmJlemllci5zaG93SW1hZ2UgPSB0cnVlO1xuXHR9XG59IiwidmFyIFBvaW50ID0gcmVxdWlyZSgnLi9wb2ludCcpO1xudmFyIGZhY3RvcmlhbCA9IHJlcXVpcmUoJy4vbWF0aCcpLmZhY3RvcmlhbDtcblxuZnVuY3Rpb24gQihpLCBuLCB0KSB7XG5cdHJldHVybiBmYWN0b3JpYWwobikgLyAoZmFjdG9yaWFsKGkpICogZmFjdG9yaWFsKG4gLSBpKSkgKiBNYXRoLnBvdyh0LCBpKSAqIE1hdGgucG93KDEgLSB0LCBuIC0gaSk7XG59XG5cbmZ1bmN0aW9uIENvbXB1dGVQKHQsIHBvaW50cykge1xuXHR2YXIgciA9IFBvaW50KDAsIDApO1xuXHR2YXIgbiA9IHBvaW50cy5sZW5ndGggLSAxO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8PSBuOyBpKyspIHtcblx0XHRyLnggKz0gcG9pbnRzW2ldLnggKiBCKGksIG4sIHQpO1xuXHRcdHIueSArPSBwb2ludHNbaV0ueSAqIEIoaSwgbiwgdCk7XG5cdH1cblx0XG5cdHJldHVybiByO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlU3VwcG9ydFBvaW50cyhwb2ludHMpIHtcblxuXHR2YXIgdExlbmd0aCA9IDA7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuXHRcdHRMZW5ndGggKz0gcG9pbnRzW2ldLmRpc3RhbmNlKHBvaW50c1tpKzFdKTtcblx0fVxuXHR2YXIgc3RlcCA9IDUgLyB0TGVuZ3RoO1xuXG5cdHZhciB0ZW1wID0gW107XG5cdGZvciAodmFyIHQgPSAwOyB0IDw9IDE7IHQgPSB0ICsgc3RlcCkge1xuXHRcdHRlbXAucHVzaChDb21wdXRlUCh0LCBwb2ludHMpKTtcblx0fVxuXG5cdHJldHVybiB0ZW1wO1xufVxuXG5mdW5jdGlvbiBwYWludEN1cnZlKGN0eCwgcG9pbnRzKSB7XG5cdGN0eC5zYXZlKCk7XG5cdGN0eC5iZWdpblBhdGgoKTtcblx0Y3R4Lm1vdmVUbyhwb2ludHNbMF0ueCwgcG9pbnRzWzBdLnkpO1xuXHRwb2ludHMuc2xpY2UoMSkuZm9yRWFjaChmdW5jdGlvbihwb2ludCkge1xuXHRcdGN0eC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XG5cdH0pO1xuXHQvLyBmb3IgKHZhciBpID0gMTsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuXHQvLyBcdGN0eC5saW5lVG8ocG9pbnRzW2ldLngsIHBvaW50c1tpXS55KTtcblx0Ly8gfVxuXG5cdGN0eC5zdHJva2UoKTtcblx0Y3R4LnJlc3RvcmUoKTtcbn1cblxuZnVuY3Rpb24gQmV6aWVyKGNhbnZhcywgc2hvd09ubHlPZGRMaW5lcykge1xuXHRpZiAodHlwZW9mIHNob3dPbmx5T2RkTGluZXMgPT09ICd1bmRlZmluZWQnKVxuXHRcdHNob3dPbmx5T2RkTGluZXMgPSB0cnVlO1xuXG5cdHRoaXMuY2FudmFzID0gY2FudmFzO1xuXHR0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXHR0aGlzLnNob3dQb2ludHMgPSB0cnVlO1xuXHR0aGlzLnNob3dMaW5lcyA9IHRydWU7XG5cdHRoaXMuc2hvd09ubHlPZGRMaW5lcyA9IHNob3dPbmx5T2RkTGluZXM7XG5cdHRoaXMuc2hvd0N1cnZlID0gdHJ1ZTtcblx0dGhpcy5zaG93SW1hZ2UgPSBmYWxzZTtcblx0dGhpcy5zaG93SGVscExpbmVzID0gZmFsc2U7XG5cdHRoaXMuaW1nID0gbmV3IEltYWdlKCk7XG5cdHRoaXMuaW1nLnNyYyA9ICdmaXNoLnBuZyc7XG59XG5cbkJlemllci5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKHBvaW50cykge1xuXHRjb25zb2xlLmxvZyhcIlN0YXJ0aW5nIHZpc3VhbGl6YXRpb24gZm9yIHBvaW50cyBbXCIgKyBwb2ludHMudG9TdHJpbmcoKSArIFwiXVwiKTtcblx0XG5cdHRoaXMucG9pbnRzID0gcG9pbnRzO1xuXHR0aGlzLm1vdXNlZG93biA9IG1vdXNlZG93bih0aGlzKTtcblx0dGhpcy5rZXlkb3duID0ga2V5ZG93bih0aGlzKTtcblxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd24sIGZhbHNlKTtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd24sIGZhbHNlKTtcblx0dmFyIGJleiA9IHRoaXM7XG5cblx0dmFyIGFuaW1EdXJhdGlvbiA9IDMwMDA7XG5cdHZhciBsYXN0ID0gbmV3IERhdGUoKTtcblx0ZnVuY3Rpb24gX2RyYXcoKSB7XG5cdFx0YmV6LnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRiZXouZHJhd1NjZW5lLmFwcGx5KGJleiwgWygobm93IC0gbGFzdCkgJSBhbmltRHVyYXRpb24pIC8gYW5pbUR1cmF0aW9uXSk7XG5cdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX2RyYXcpO1xuXHRcdH0sIDEwMDAgLyA2MCk7XG5cdH1cblxuXHRfZHJhdygpO1xufTtcblxuQmV6aWVyLnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XG5cdGNvbnNvbGUubG9nKFwiU3RvcHBpbmcgdml6dWFsaXphdGlvbiBmb3IgcG9pbnRzIFtcIiArIHRoaXMucG9pbnRzLnRvU3RyaW5nKCkgKyBcIl1cIik7XG5cdGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd24pO1xuXHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bik7XG59O1xuXG5CZXppZXIucHJvdG90eXBlLmRyYXdTY2VuZSA9IGZ1bmN0aW9uKHQpIHtcblx0XHR0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cdFx0dGhpcy5jdHgubGluZVdpZHRoID0gNTtcblx0XHR0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICcjNUY1MDVCJztcblx0XHRpZiAodGhpcy5zaG93TGluZXMpXG5cdFx0XHR0aGlzLmRyYXdMaW5lcygpO1xuXG5cdFx0dGhpcy5kcmF3Q3VydmUodGhpcy5jdHgsIHQsIHRoaXMucG9pbnRzKTtcblxuXHRcdGlmICh0aGlzLnNob3dMaW5lcylcblx0XHRcdHRoaXMuZHJhd1BvaW50cygpO1xuXG5cdFx0aWYgKHRoaXMuc2hvd0hlbHBMaW5lcylcblx0XHRcdHRoaXMuZHJhd0hlbHBMaW5lcyh0KTtcbn07XG5cbkJlemllci5wcm90b3R5cGUuZHJhd0N1cnZlID0gZnVuY3Rpb24oY3R4LCB0KSB7XG5cdHZhciBwb2ludHMgPSBbXTtcblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcblx0XHRwb2ludHMgPSBhcmd1bWVudHNbMl07XG5cdH0gZWxzZSB7XG5cdFx0Zm9yIChpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcblx0XHRcdHBvaW50cy5wdXNoKGFyZ3VtZW50c1tpXSk7XG5cdH1cblxuXHR2YXIgc3VwcG9ydFBvaW50cyA9IGNvbXB1dGVTdXBwb3J0UG9pbnRzKHBvaW50cyk7XG5cdGlmICh0aGlzLnNob3dDdXJ2ZSlcblx0XHRwYWludEN1cnZlKGN0eCwgc3VwcG9ydFBvaW50cyk7XG5cblx0aWYgKHRoaXMuc2hvd0ltYWdlKSB7XG5cdFx0dmFyIHAgPSBzdXBwb3J0UG9pbnRzW01hdGguZmxvb3IodCAqIHN1cHBvcnRQb2ludHMubGVuZ3RoKV07XG5cdFx0dGhpcy5kcmF3SW1hZ2UocCk7XG5cdH1cbn07XG5cbkJlemllci5wcm90b3R5cGUuZHJhd0hlbHBMaW5lcyA9IGZ1bmN0aW9uKHQpIHtcblx0dmFyIGN0eCA9IHRoaXMuY3R4O1xuXHRjdHguc2F2ZSgpO1xuXHR2YXIgaGVscFBvaW50cyA9IFtdO1xuXG5cdHZhciB0bXAgPSB0aGlzLnBvaW50cztcblxuXHRjdHguc3Ryb2tlU3R5bGUgPSAnIzc3Nyc7XG5cdGN0eC5zdHJva2VXaWR0aCA9IDE7XG5cdHdoaWxlICh0bXAubGVuZ3RoID4gMSkge1xuXHRcdHZhciBjdXJ0bXAgPSBbXTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRtcC5sZW5ndGggLSAxOyBpKyspIHtcblx0XHRcdHZhciBwMSA9IHRtcFtpXTtcblx0XHRcdHZhciBwMiA9IHRtcFtpICsgMV07XG5cdFx0XHR2YXIgeCA9IHAxLnggKyAocDIueCAtIHAxLngpICogdDtcblx0XHRcdHZhciB5ID0gcDEueSArIChwMi55IC0gcDEueSkgKiB0O1xuXHRcdFx0Y3VydG1wLnB1c2goUG9pbnQoeCwgeSkpO1xuXHRcdH1cblxuXHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRmb3IgKHZhciBxID0gMDsgcSA8IGN1cnRtcC5sZW5ndGggLSAxOyBxKyspIHtcblx0XHRcdHAxID0gY3VydG1wW3FdO1xuXHRcdFx0cDIgPSBjdXJ0bXBbcSArIDFdO1xuXHRcdFx0Y3R4Lm1vdmVUbyhwMS54LCBwMS55KTtcblx0XHRcdGN0eC5saW5lVG8ocDIueCwgcDIueSk7XG5cdFx0fVxuXHRcdGN0eC5zdHJva2UoKTtcblxuXHRcdHRtcCA9IGN1cnRtcC5zbGljZSgwKTsgLy9oZWxwUG9pbnRzLnNsaWNlKDApO1xuXHRcdGhlbHBQb2ludHMgPSBoZWxwUG9pbnRzLmNvbmNhdChjdXJ0bXAuc2xpY2UoMCkpO1xuXHR9XG5cblx0Y3R4LmZpbGxTdHlsZSA9IFwiIzM5ODk5OVwiO1xuXHRjdHguYmVnaW5QYXRoKCk7XG5cdGZvciAodmFyIGogPSAwOyBqIDwgaGVscFBvaW50cy5sZW5ndGg7IGorKykge1xuXHRcdHZhciBwID0gaGVscFBvaW50c1tqXTtcblx0XHRjdHgubW92ZVRvKHAueCwgcC55KTtcblx0XHRjdHguYXJjKHAueCwgcC55LCA3LCAwLCAyICogTWF0aC5QSSwgZmFsc2UpO1xuXHR9XG5cdGN0eC5maWxsKCk7XG5cdGN0eC5yZXN0b3JlKCk7XG59O1xuXG5CZXppZXIucHJvdG90eXBlLmRyYXdQb2ludHMgPSBmdW5jdGlvbigpIHtcblx0dmFyIGN0eCA9IHRoaXMuY3R4O1xuXHRjdHguc2F2ZSgpO1xuXHRjdHguZmlsbFN0eWxlID0gXCIjMzk4OTk5XCI7XG5cdGN0eC5iZWdpblBhdGgoKTtcblxuXHR0aGlzLnBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uKHBvaW50KSB7XG5cdFx0Y3R4Lm1vdmVUbyhwb2ludC54LCBwb2ludC55KTtcblx0XHRjdHguYXJjKHBvaW50LngsIHBvaW50LnksIDcsIDAsIDIqTWF0aC5QSSwgZmFsc2UpO1xuXHR9KTtcblxuXHRjdHguZmlsbCgpO1xuXHRjdHgucmVzdG9yZSgpO1xufTtcblxuQmV6aWVyLnByb3RvdHlwZS5kcmF3TGluZXMgPSBmdW5jdGlvbigpIHtcblx0dmFyIGN0eCA9IHRoaXMuY3R4O1xuXHRjdHguc2F2ZSgpO1xuXG5cdGN0eC5zdHJva2VTdHlsZSA9IFwiIzc3N1wiO1xuXHRjdHgubGluZVdpZHRoID0gMS41O1xuXHRjdHguYmVnaW5QYXRoKCk7XG5cdGN0eC5tb3ZlVG8odGhpcy5wb2ludHNbMF0ueCwgdGhpcy5wb2ludHNbMF0ueSk7XG5cdGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAoaSAlIDIgPT09IDAgJiYgdGhpcy5zaG93T25seU9kZExpbmVzKVxuXHRcdFx0Y3R4Lm1vdmVUbyh0aGlzLnBvaW50c1tpXS54LCB0aGlzLnBvaW50c1tpXS55KTtcblx0XHRlbHNlXG5cdFx0XHRjdHgubGluZVRvKHRoaXMucG9pbnRzW2ldLngsIHRoaXMucG9pbnRzW2ldLnkpO1xuXHR9XG5cdGN0eC5zdHJva2UoKTtcblx0Y3R4LnJlc3RvcmUoKTtcbn07XG5cbkJlemllci5wcm90b3R5cGUuZHJhd0ltYWdlID0gZnVuY3Rpb24ocCkge1xuXHR2YXIgY3R4ID0gdGhpcy5jdHg7XG5cdGN0eC5zYXZlKCk7XG5cblx0Y3R4LmRyYXdJbWFnZSh0aGlzLmltZywgcC54IC0gKHRoaXMuaW1nLndpZHRoIC8gMiksIHAueSAtICh0aGlzLmltZy5oZWlnaHQgLyAyKSk7XG5cblx0Y3R4LnJlc3RvcmUoKTtcbn07XG5cbkJlemllci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24obm9kZSkge1xuXHR0aGlzLnVwZGF0ZU5vZGUgPSBub2RlO1xuXG5cdHZhciB4MSA9IHRyYW5zZm9ybSh0aGlzLnBvaW50c1sxXS54KTtcblx0dmFyIHkxID0gdHJhbnNmb3JtKHRoaXMucG9pbnRzWzFdLnksIHRydWUpO1xuXHR2YXIgeDIgPSB0cmFuc2Zvcm0odGhpcy5wb2ludHNbMl0ueCk7XG5cdHZhciB5MiA9IHRyYW5zZm9ybSh0aGlzLnBvaW50c1syXS55LCB0cnVlKTtcblx0dGhpcy51cGRhdGVOb2RlLmlubmVyVGV4dCA9IFwiY3ViaWMtYmV6aWVyKFwiICsgeDEgKyBcIiwgXCIgKyB5MSArIFwiLCBcIiArIHgyICsgXCIsIFwiICsgeTIgKyBcIilcIjtcbn07XG5cbmZ1bmN0aW9uIGtleWRvd24oYmV6KSB7XG5cdHJldHVybiBmdW5jdGlvbihldikge1xuXHRcdGNvbnNvbGUubG9nKGV2LmtleUNvZGUpO1xuXHRcdGlmIChldi5rZXlDb2RlID09IDgzKVxuXHRcdFx0YmV6LmludmFsaWRhdGUoKTtcblx0XHRcblx0XHRpZiAoZXYua2V5Q29kZSA9PSAxODYpXG5cdFx0XHRiZXouc2hvd0xpbmVzID0gIWJlei5zaG93TGluZXM7XG5cblx0XHRpZiAoZXYua2V5Q29kZSA9PSAyMjIpXG5cdFx0XHRiZXouc2hvd09ubHlPZGRMaW5lcyA9ICFiZXouc2hvd09ubHlPZGRMaW5lcztcblxuXHRcdGlmIChldi5rZXlDb2RlID09IDIyMClcblx0XHRcdGJlei5zaG93Q3VydmUgPSAhYmV6LnNob3dDdXJ2ZTtcblxuXHRcdGlmIChldi5rZXlDb2RlID09IDc2KVxuXHRcdFx0YmV6LnNob3dIZWxwTGluZXMgPSAhYmV6LnNob3dIZWxwTGluZXM7XG5cdH1cbn07XG5cbmZ1bmN0aW9uIG1vdXNlZG93bihiZXopIHtcblx0dmFyIGNhbnZhcyA9IGJlei5jYW52YXM7XG5cdHZhciBwb2ludHMgPSBiZXoucG9pbnRzO1xuXHRyZXR1cm4gZnVuY3Rpb24oZXYpIHtcblx0XHR2YXIgbm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVtYXJrLXZpc2libGUgLnJlbWFyay1zbGlkZS1zY2FsZXJcIik7XG5cdFx0dmFyIGN1clRyYW5zZm9ybSA9IG5ldyBXZWJLaXRDU1NNYXRyaXgod2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSkud2Via2l0VHJhbnNmb3JtKTtcblx0XHR2YXIgYm91bmRpbmdSZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdHZhciB4ID0gKGV2LmNsaWVudFggLSBib3VuZGluZ1JlY3QubGVmdCkgLyBjdXJUcmFuc2Zvcm0ubTExO1xuXHRcdHZhciB5ID0gKGV2LmNsaWVudFkgLSBib3VuZGluZ1JlY3QudG9wKSAvIGN1clRyYW5zZm9ybS5tMTE7XG5cdFx0dmFyIHA7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChwb2ludHNbaV0uaGl0KHgsIHkpKSB7XG5cdFx0XHRcdHAgPSBwb2ludHNbaV07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgcCA9PT0gJ3VuZGVmaW5lZCcpXG5cdFx0XHRyZXR1cm47XG5cblx0XHRmdW5jdGlvbiBtb3VzZW1vdmUobW0pIHtcblx0XHRcdHZhciBub2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZW1hcmstdmlzaWJsZSAucmVtYXJrLXNsaWRlLXNjYWxlclwiKTtcblx0XHRcdHZhciBjdXJUcmFuc2Zvcm0gPSBuZXcgV2ViS2l0Q1NTTWF0cml4KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpLndlYmtpdFRyYW5zZm9ybSk7XG5cdFx0XHR2YXIgYm91bmRpbmdSZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0dmFyIHggPSAobW0uY2xpZW50WCAtIGJvdW5kaW5nUmVjdC5sZWZ0KSAvIGN1clRyYW5zZm9ybS5tMTE7XG5cdFx0XHR2YXIgeSA9IChtbS5jbGllbnRZIC0gYm91bmRpbmdSZWN0LnRvcCkgLyBjdXJUcmFuc2Zvcm0ubTExO1xuXG5cdFx0XHRwLnggPSB4O1xuXHRcdFx0cC55ID0geTtcblxuXHRcdFx0aWYgKCFiZXoudXBkYXRlTm9kZSlcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHR2YXIgeDEgPSB0cmFuc2Zvcm0ocG9pbnRzWzFdLngpO1xuXHRcdFx0dmFyIHkxID0gdHJhbnNmb3JtKHBvaW50c1sxXS55LCB0cnVlKTtcblx0XHRcdHZhciB4MiA9IHRyYW5zZm9ybShwb2ludHNbMl0ueCk7XG5cdFx0XHR2YXIgeTIgPSB0cmFuc2Zvcm0ocG9pbnRzWzJdLnksIHRydWUpO1xuXHRcdFx0YmV6LnVwZGF0ZU5vZGUuaW5uZXJUZXh0ID0gXCJjdWJpYy1iZXppZXIoXCIgKyB4MSArIFwiLCBcIiArIHkxICsgXCIsIFwiICsgeDIgKyBcIiwgXCIgKyB5MiArIFwiKVwiO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG1vdXNldXAobW91c2Vtb3ZlLCBtb3VzZXVwKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24obXUpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJtb3VzZXVwXCIpO1xuXHRcdFx0XHRjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2Vtb3ZlKTtcblx0XHRcdFx0c2V0VGltZW91dCgwLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG1vdXNldXApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2Vtb3ZlLCBmYWxzZSk7XG5cdFx0Y2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBtb3VzZXVwKG1vdXNlbW92ZSwgbW91c2V1cCksIGZhbHNlKTtcblx0fTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtKHAsIGlzWSkge1xuXHR2YXIgcmV0ID0gLTE7XG5cdGlmIChpc1kpXG5cdFx0cmV0ID0gKDEgLSAoKHAgLSAxMDApIC8gMzAwKSkudG9GaXhlZCgyKTtcblx0ZWxzZVxuXHRcdHJldCA9ICgocCAtIDEwMCkgLyAzMDApLnRvRml4ZWQoMik7XG5cblx0cmV0dXJuIHJldDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCZXppZXI7IiwiZnVuY3Rpb24gZmFjdG9yaWFsKG4pIHtcblx0aWYgKG4gPT0gMCB8fCBuID09IDEpXG5cdFx0cmV0dXJuIDE7XG5cblx0cmV0dXJuIG4gKiBmYWN0b3JpYWwobiAtIDEpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0ZmFjdG9yaWFsOiBmYWN0b3JpYWxcbn07IiwiZnVuY3Rpb24gUCh4LCB5LCByYWRpdXMpIHtcblx0aWYgKHR5cGVvZiByYWRpdXMgPT09ICd1bmRlZmluZWQnKVxuXHRcdHJhZGl1cyA9IDU7XG5cblx0cmV0dXJuIG5ldyBQb2ludCh4LCB5LCByYWRpdXMpO1xufVxuXG5mdW5jdGlvbiBQb2ludCh4LCB5LCByYWRpdXMpIHtcblx0dGhpcy54ID0geDtcblx0dGhpcy55ID0geTtcblx0dGhpcy5yYWRpdXMgPSByYWRpdXM7XG59XG5cblBvaW50LnByb3RvdHlwZS5oaXQgPSBmdW5jdGlvbih4LCB5KSB7XG5cdHZhciByID0gdGhpcy5yYWRpdXMgKyAyO1xuXHR2YXIgaGl0ID0gKE1hdGgucG93KHggLSB0aGlzLngsIDIpICsgTWF0aC5wb3coeSAtIHRoaXMueSwgMikpIDwgKHIgKiByKTtcblx0cmV0dXJuIGhpdDtcbn07XG5cblBvaW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gXCJbXCIgKyB0aGlzLnggKyBcIiwgXCIgKyB0aGlzLnkgKyBcIl1cIjtcbn07XG5cblBvaW50LnByb3RvdHlwZS5kaXN0YW5jZSA9IGZ1bmN0aW9uKHBvaW50KSB7XG5cdHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3codGhpcy54IC0gcG9pbnQueCwgMikgKyBNYXRoLnBvdyh0aGlzLnkgLSBwb2ludC55LCAyKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFA7Il19
